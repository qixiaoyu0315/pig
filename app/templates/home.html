{% extends "admin_layout.html" %}

{% block title %}首页 - 母猪管理系统{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">欢迎使用母猪管理系统</h4>
                <p class="card-text">本系统用于帮助养猪场管理人员高效地管理母猪繁育、饲养和健康状况。</p>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span>猪只数量</span>
                <a href="/pig/management" class="btn btn-sm btn-outline-primary">查看详情</a>
            </div>
            <div class="card-body text-center">
                <h1 class="display-4 mb-0">24</h1>
                <small class="text-muted">正常饲养中的母猪数量</small>
                <div class="mt-3">
                    <div class="d-flex justify-content-between mb-1">
                        <span>怀孕母猪</span>
                        <span>10</span>
                    </div>
                    <div class="progress mb-3" style="height: 5px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 41.6%;" aria-valuenow="10" aria-valuemin="0" aria-valuemax="24"></div>
                    </div>
                    <div class="d-flex justify-content-between mb-1">
                        <span>哺乳母猪</span>
                        <span>8</span>
                    </div>
                    <div class="progress mb-3" style="height: 5px;">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 33.3%;" aria-valuenow="8" aria-valuemin="0" aria-valuemax="24"></div>
                    </div>
                    <div class="d-flex justify-content-between mb-1">
                        <span>空怀母猪</span>
                        <span>6</span>
                    </div>
                    <div class="progress" style="height: 5px;">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: 25%;" aria-valuenow="6" aria-valuemin="0" aria-valuemax="24"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span>饲料消耗</span>
                <a href="/pig/feeding" class="btn btn-sm btn-outline-primary">查看详情</a>
            </div>
            <div class="card-body">
                <h3 class="text-center mb-4">今日消耗：120 kg</h3>
                <div class="d-flex justify-content-between mb-1">
                    <span>本周消耗</span>
                    <span>840 kg</span>
                </div>
                <div class="progress mb-3" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 85%;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <div class="d-flex justify-content-between mb-1">
                    <span>本月消耗</span>
                    <span>3,600 kg</span>
                </div>
                <div class="progress" style="height: 5px;">
                    <div class="progress-bar" role="progressbar" style="width: 72%;" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                
                <div class="mt-4">
                    <h5 class="text-center mb-3">剩余饲料</h5>
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 68%;" aria-valuenow="68" aria-valuemin="0" aria-valuemax="100">680 kg</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span>健康状况</span>
                <a href="/pig/alerts" class="btn btn-sm btn-outline-primary">查看报警</a>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-6 mb-4">
                        <div class="border rounded p-3">
                            <h3 class="text-success">20</h3>
                            <small class="text-muted">健康</small>
                        </div>
                    </div>
                    <div class="col-6 mb-4">
                        <div class="border rounded p-3">
                            <h3 class="text-warning">3</h3>
                            <small class="text-muted">待观察</small>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="border rounded p-3">
                            <h3 class="text-danger">1</h3>
                            <small class="text-muted">需治疗</small>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="border rounded p-3">
                            <h3>0</h3>
                            <small class="text-muted">隔离</small>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4">
                    <h5 class="text-center mb-3">近期报警</h5>
                    <div class="alert alert-danger mb-2 py-2">
                        <small><strong>高温报警</strong> - 3号圈舍 (20分钟前)</small>
                    </div>
                    <div class="alert alert-warning mb-0 py-2">
                        <small><strong>采食异常</strong> - 6号猪只 (2小时前)</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                最近活动
            </div>
            <div class="card-body p-0">
                <table class="table table-hover mb-0">
                    <thead>
                        <tr>
                            <th>时间</th>
                            <th>活动类型</th>
                            <th>猪只编号</th>
                            <th>操作人员</th>
                            <th>详情</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2023-05-20 10:30</td>
                            <td>饲料投放</td>
                            <td>圈舍 3-5</td>
                            <td>张三</td>
                            <td>自动投放 50kg</td>
                        </tr>
                        <tr>
                            <td>2023-05-20 09:15</td>
                            <td>健康检查</td>
                            <td>PIG008</td>
                            <td>李四</td>
                            <td>体温正常，行为正常</td>
                        </tr>
                        <tr>
                            <td>2023-05-19 16:45</td>
                            <td>转圈</td>
                            <td>PIG012</td>
                            <td>王五</td>
                            <td>从3号圈转至5号圈</td>
                        </tr>
                        <tr>
                            <td>2023-05-19 15:20</td>
                            <td>接种疫苗</td>
                            <td>多头</td>
                            <td>赵六</td>
                            <td>口蹄疫疫苗接种</td>
                        </tr>
                        <tr>
                            <td>2023-05-19 11:30</td>
                            <td>分娩记录</td>
                            <td>PIG003</td>
                            <td>系统</td>
                            <td>分娩11头，存活10头</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="card-footer">
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled"><a class="page-link" href="#">上一页</a></li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item"><a class="page-link" href="#">下一页</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>
{% endblock %} 